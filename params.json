{"name":"App-metro","tagline":"Example application that simulates Metro card activity for a large urban public transportation system","body":"# VoltDB Example App: Metro\r\n\r\nUse Case\r\n--------\r\nThis application performs high velocity transaction processing for metro cards.  These transactions include:\r\n\r\n- Card generation (during the initialization)\r\n- Card Swipes (during the benchmark)\r\n\r\nCode organization\r\n-----------------\r\nThe code is divided into projects:\r\n\r\n- \"db\": the database project, which contains the schema, stored procedures and other configurations that are compiled into a catalog and run in a VoltDB database.  \r\n- \"client\": a java client that loads a set of cards and then generates random card transactions a high velocity to simulate card activity.\r\n- \"web\": a web dashboard client (static html page with dynamic content)\r\n\r\nSee below for instructions on running these applications.  For any questions, \r\nplease contact fieldengineering@voltdb.com.\r\n\r\nPre-requisites\r\n--------------\r\nBefore running these scripts you need to have VoltDB 4.0 (Enterprise or Community) or later installed, and you should add the voltdb-$(VERSION)/bin directory to your PATH environment variable, for example:\r\n\r\n    export PATH=\"$PATH:$HOME/voltdb-ent-4.0.2/bin\"\r\n\r\n\r\nDemo Instructions\r\n-----------------\r\n\r\n1. Start the web server\r\n\r\n    ./run.sh start_web\r\n   \r\n2. Start the database and client \r\n\r\n    ./run.sh demo\r\n\r\n3. Open a web browser to http://hostname:8081\r\n\r\n4. To stop the demo:\r\n\r\nStop the client (if it hasn't already completed)\r\n\r\n    Ctrl-C\r\n    \r\nStop the database\r\n\r\n    voltadmin shutdown\r\n   \r\nStop the web server\r\n\r\n    ./run.sh stop_web\r\n\r\nOptions\r\n-------\r\nYou can control various characteristics of the demo by modifying the parameters passed into the InvestmentBenchmark java application in the \"client\" function of the run.sh script.\r\n\r\nSpeed & Duration:\r\n\r\n    --duration=120                (benchmark duration in seconds)\r\n    --autotune=true               (true = ignore rate limit, run at max throughput until latency is impacted)\r\n                                  (false = run at the specified rate limit)\r\n    --ratelimit=20000             (when autotune=false, run up to this rate of requests/second)\r\n\r\nMetadata volumes and ratios:\r\n\r\n    --cardcount=500000            (number of metro cards created)\r\n\r\n\r\nInstructions for running on a cluster\r\n-------------------------------------\r\n\r\nBefore running this demo on a cluster, make the following changes:\r\n\r\n1. On each server, edit the run.sh file to set the HOST variable to the name of the **first** server in the cluster:\r\n    \r\n    HOST=voltserver01\r\n    \r\n2. On each server, edit db/deployment.xml to change hostcount from 1 to the actual number of servers:\r\n\r\n    <cluster hostcount=\"1\" sitesperhost=\"3\" kfactor=\"0\" />\r\n\r\n4. On each server, start the database\r\n\r\n\t./run.sh server\r\n    \r\n5. On one server, Edit the run.sh script to set the SERVERS variable to a comma-separated list of the servers in the cluster\r\n\r\n    SERVERS=voltserver01,voltserver02,voltserver03\r\n    \r\n6. Run the client script:\r\n\r\n\t./run.sh client\r\n","google":"UA-47652901-7","note":"Don't delete this file! It's used internally to help with page regeneration."}